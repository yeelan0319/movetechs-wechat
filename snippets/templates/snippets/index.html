{% extends "snippets/base.html" %}

{% block title %}
<section class="mdc-toolbar__section mdc-toolbar__section--align-end" role="toolbar">
  <a class="material-icons mdc-toolbar__icon" href="/snippets/week/{{ prev_week }}/">navigate_before</a>
  <span class="week-indicator">第{{week_no}}周</span>
  <a class="material-icons mdc-toolbar__icon" href="/snippets/week/{{ next_week }}/">navigate_next</a>
</section>
{% endblock %}

{% block content %}
{% if snippet_list %}
<div id="snippet-tab-bar-scroller" class="mdc-tab-bar-scroller">
  <div class="mdc-tab-bar-scroller__indicator mdc-tab-bar-scroller__indicator--back">
    <a class="mdc-tab-bar-scroller__indicator__inner material-icons" href="#" aria-label="scroll back button">
      navigate_before
    </a>
  </div>
  <div class="mdc-tab-bar-scroller__scroll-frame">
    <nav id="my-scrollable-tab-bar" class="mdc-tab-bar mdc-tab-bar-scroller__scroll-frame__tabs">
      {% for snippet in snippet_list %}
        <div class="mdc-tab
                    {% if snippet.has_read %}
                      has_read
                    {% endif %}"
              id="snippet-tab-{{ snippet.id }}"
              onclick="show({{ snippet.id }}); update_read({{ snippet.id }})">{{ snippet.user }}</div>
      {% endfor %}
      <span class="mdc-tab-bar__indicator"></span>
    </nav>
  </div>
  <div class="mdc-tab-bar-scroller__indicator mdc-tab-bar-scroller__indicator--forward">
    <a class="mdc-tab-bar-scroller__indicator__inner material-icons" href="#" aria-label="scroll forward button">
      navigate_next
    </a>
  </div>
</div>
<ul id="my-tab-contents">
  {% for snippet in snippet_list %}
    <li class="mdc-card snippet-card snippet-card-hide" id="snippet-card-{{ snippet.id }}">
      <i class="material-icons snippet-star" onclick="toogle_star({{ snippet.id }})">
        {% if snippet.has_star %}
          star
        {% else %}
          star_border
        {% endif %}
      </i>
      <section class="mdc-card__supporting-text snippet-content">
        {{ snippet.content }}
      </section>
    </li>
  {% endfor %}
</ul>
<script>
  var tabbar = new mdc.tabs.MDCTabBarScroller(document.querySelector('#snippet-tab-bar-scroller'));
</script>
{% else %}
No Snippet are available.
{% endif %}
{% endblock %}

